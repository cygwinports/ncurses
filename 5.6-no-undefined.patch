--- origsrc/ncurses-5.6/c++/Makefile.in	2006-10-21 12:07:49.000000000 -0500
+++ src/ncurses-5.6/c++/Makefile.in	2008-07-28 10:09:59.328125000 -0500
@@ -156,7 +156,7 @@
 	cd ../lib && $(LIBTOOL_LINK) $(CXX) $(CXXFLAGS) \
 		-o $(LIBNAME) $(LIB_OBJS:$o=.lo) \
 		-rpath $(INSTALL_PREFIX)$(libdir) \
-		-version-info $(NCURSES_MAJOR):$(NCURSES_MINOR) $(SHLIB_LIST)
+		-version-info $(ABI_VERSION):0:0 -no-undefined $(SHLIB_LIST)
 
 OBJS_DEMO = $(MODEL)/demo$o
 
--- origsrc/ncurses-5.6/configure	2008-07-28 10:09:50.734375000 -0500
+++ src/ncurses-5.6/configure	2008-07-28 10:10:50.062500000 -0500
@@ -4119,7 +4119,7 @@
 echo "$as_me: error: Cannot find libtool" >&2;}
    { (exit 1); exit 1; }; }
  	fi
-	LIB_CREATE='${LIBTOOL} --mode=link ${CC} -rpath ${DESTDIR}${libdir} -version-info `cut -f1 ${srcdir}/VERSION` -o'
+	LIB_CREATE='${LIBTOOL} --mode=link ${CC} -rpath ${DESTDIR}${libdir} -version-info `cut -f1 ${srcdir}/VERSION` -no-undefined -o'
 	LIB_OBJECT='${OBJECTS}.o=.lo)'
 	LIB_SUFFIX=.la
 	LIB_CLEAN='${LIBTOOL} --mode=clean'
--- origsrc/ncurses-5.6/mk-1st.awk	2006-10-07 19:14:08.000000000 -0500
+++ src/ncurses-5.6/mk-1st.awk	2008-07-28 10:09:59.390625000 -0500
@@ -308,7 +308,7 @@
 				}
 				end_name = lib_name;
 				printf "../lib/%s : $(%s_OBJS)\n", lib_name, OBJS
-				printf "\tcd ../lib && $(LIBTOOL_LINK) $(%s) -o %s $(%s_OBJS:$o=.lo) -rpath $(DESTDIR)$(libdir) -version-info $(NCURSES_MAJOR):$(NCURSES_MINOR) $(SHLIB_LIST)\n", compile, lib_name, OBJS
+				printf "\tcd ../lib && $(LIBTOOL_LINK) $(%s) -o %s $(%s_OBJS:$o=.lo) -rpath $(DESTDIR)$(libdir) -version-info $(ABI_VERSION):0:0 -no-undefined $(SHLIB_LIST)\n", compile, lib_name, OBJS
 				print  ""
 				print  "install \\"
 				print  "install.libs \\"
